<nav class="docs-nav">
  <!-- Logo -->
  <a href="https://docs.datatyper.space" class="docs-logo" rel="noopener" title="Go to DataTyper documentation">
    <img src="{{ '/assets/img/datatyper-logo.svg' | relative_url }}" alt="DataTyper" />
  </a>

  <!-- Navigation -->
  <div class="docs-links">
    {% assign current = page.url %}
    {% assign current = current | replace:'index.html','' | replace:'.html','' | replace:'/index','/' %}

    {% for item in site.data.navigation %}
    {% if item.children %}
    <div class="docs-section">
      <div class="docs-section-title">{{ item.title }}</div>

      <div class="docs-sub-links">
        {% for child in item.children %}
        {% assign is_active = false %}
        {% if child.url == '/' %}
        {% if current == '/' or current == '' %}
        {% assign is_active = true %}
        {% endif %}
        {% else %}
        {% assign child_prefix = child.url | append:'/' %}
        {% if current == child.url or current == child_prefix or current contains child_prefix %}
        {% assign is_active = true %}
        {% endif %}
        {% endif %}

        <a href="{{ child.url }}" {% if is_active %}class="active" {% endif %}>
          {{ child.title }}
        </a>
        {% endfor %}
      </div>
    </div>
    {% else %}
    {% assign is_active = false %}
    {% if item.url == '/' %}
    {% if current == '/' or current == '' %}
    {% assign is_active = true %}
    {% endif %}
    {% else %}
    {% assign item_prefix = item.url | append:'/' %}
    {% if current == item.url or current == item_prefix or current contains item_prefix %}
    {% assign is_active = true %}
    {% endif %}
    {% endif %}

    <a href="{{ item.url }}" {% if is_active %}class="active" {% endif %}>
      {{ item.title }}
    </a>
    {% endif %}
    {% endfor %}
  </div>

  <!-- Secondary / meta links -->
  <div class="docs-links docs-links-secondary">
    <a href="https://github.com/kuraeow/DataTyper-Docs" target="_blank" rel="noopener">GitHub</a>
    <a href="https://datatyper.space" target="_blank" rel="noopener">Website</a>
  </div>
</nav>